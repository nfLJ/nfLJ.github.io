"use strict";var searchFunc=function(t,s,a){$.ajax({url:t,dataType:"xml",success:function(t){var e=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),n=document.getElementById(s),r=document.getElementById(a);n.addEventListener("input",function(){var f='<ul class="search-result-list">',m=this.value.trim().toLowerCase().split(/[\s\-]+/);r.innerHTML="",this.value.trim().length<=0||(e.forEach(function(t){var e,n,r,s,a=!0,i=t.title.trim().toLowerCase(),c=t.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),l=t.url,u=-1,o=-1,h=-1;""!=i&&""!=c&&m.forEach(function(t,e){u=i.indexOf(t),o=c.indexOf(t),u<0&&o<0?a=!1:(o<0&&(o=0),0==e&&(h=o))}),a&&(f+="<li><a href='"+l+"' class='search-result-title'>"+i+"</a>",e=t.content.trim().replace(/<[^>]+>/g,""),0<=h&&(r=h+80,(n=h-20)<0&&(n=0),0==n&&(r=100),r>e.length&&(r=e.length),s=e.substr(n,r),m.forEach(function(t){var e=new RegExp(t,"gi");s=s.replace(e,'<em class="search-keyword">'+t+"</em>")}),f+='<p class="search-result">'+s+"...</p>"),f+="</li>")}),f+="</ul>",r.innerHTML=f)})}})};