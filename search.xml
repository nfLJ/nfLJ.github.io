<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hexo博客搭建</title>
      <link href="/2020/06/11/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
      <url>/2020/06/11/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h1 id="Hexo介绍"><a href="#Hexo介绍" class="headerlink" title="Hexo介绍"></a>Hexo介绍</h1><p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 <a href="http://daringfireball.net/projects/markdown/" target="_blank" rel="noopener external nofollow noreferrer">Markdown</a>（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p><h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><ul><li><code>node_modules</code>是hexo插件安装的地方</li><li><code>scaffolds</code>放一些通用的MarkDown模板</li><li><code>source</code>就是编写的博客文件，格式为 .md</li><li><code>public</code>存放生成的静态页面，上传服务器时只需要上传这个文件夹即可</li><li><code>themes</code>下存放的就是主题文件</li><li>_config.yml`是博客站点的配置文件</li></ul><p>详情可查看Hexo官方主页 <a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener external nofollow noreferrer">https://hexo.io/zh-cn/docs</a></p><h1 id="Hexo安装"><a href="#Hexo安装" class="headerlink" title="Hexo安装"></a>Hexo安装</h1><h2 id="环境安装"><a href="#环境安装" class="headerlink" title="环境安装"></a>环境安装</h2><ul><li>Node.js</li><li>Git</li><li>完成后使用<code>node -v</code>和<code>npm -v</code>检查是否安装成功</li></ul><h2 id="Hexo安装-1"><a href="#Hexo安装-1" class="headerlink" title="Hexo安装"></a>Hexo安装</h2><ul><li>新建一个文件夹blog，命令行进入文件夹</li></ul><pre class=" language-linux"><code class="language-linux">npm install -g hexo-cli</code></pre><ul><li>使用<code>hexo -v</code>检查是否安装成功</li><li>初始化hexo</li></ul><pre class=" language-linux"><code class="language-linux">hexo initnpm install</code></pre><ul><li>完成后使用命令</li></ul><pre class=" language-linux"><code class="language-linux">hexo g && hexo s</code></pre><ul><li>生成页面并启动服务</li></ul><h1 id="Hexo优化"><a href="#Hexo优化" class="headerlink" title="Hexo优化"></a>Hexo优化</h1><h2 id="1-主题"><a href="#1-主题" class="headerlink" title="1.主题"></a>1.主题</h2><ul><li>安装<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank" rel="noopener external nofollow noreferrer">Metary主题</a>。cd到Blog目录下的Themes文件夹</li></ul><pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> clone https://github.com/blinkfox/hexo-theme-matery.git</code></pre><ul><li>编辑站点配置文件<code>_config.yml</code>,修改主题</li></ul><pre class=" language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># Extensions</span><span class="token comment" spellcheck="true">## Plugins: https://hexo.io/plugins/</span><span class="token comment" spellcheck="true">## Themes: https://hexo.io/themes/</span><span class="token key atrule">theme</span><span class="token punctuation">:</span> hexo<span class="token punctuation">-</span>theme<span class="token punctuation">-</span>matery</code></pre><h2 id="2-安装插件"><a href="#2-安装插件" class="headerlink" title="2.安装插件"></a>2.安装插件</h2><p>cd 到博客根目录下</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-generator-feed --save                 <span class="token comment" spellcheck="true">#RSS</span><span class="token function">npm</span> <span class="token function">install</span> hexo-generator-search --save               <span class="token comment" spellcheck="true">#搜索</span><span class="token function">npm</span> <span class="token function">install</span> hexo-generator-sitemap --save              <span class="token comment" spellcheck="true">#sitemap</span><span class="token function">npm</span> <span class="token function">install</span> hexo-generator-baidu-sitemap --save        <span class="token comment" spellcheck="true">#百度sitemap</span><span class="token function">npm</span> <span class="token function">install</span> hexo-prism-plugin --save                   <span class="token comment" spellcheck="true">#代码高亮     </span><span class="token function">npm</span> <span class="token function">install</span> hexo-wordcount --save                      <span class="token comment" spellcheck="true">#文章字数统计</span><span class="token function">npm</span> <span class="token function">install</span> hexo-filter-nofollow --save                <span class="token comment" spellcheck="true">#nofollow</span></code></pre><p><strong>1) RSS</strong></p><ul><li>在根目录下的<code>_config.yml</code>中添加对应配置</li></ul><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">feed</span><span class="token punctuation">:</span>  <span class="token key atrule">type</span><span class="token punctuation">:</span> atom  <span class="token key atrule">path</span><span class="token punctuation">:</span> atom.xml  <span class="token key atrule">limit</span><span class="token punctuation">:</span> <span class="token number">20</span>  <span class="token key atrule">hub</span><span class="token punctuation">:</span>  <span class="token key atrule">content</span><span class="token punctuation">:</span>  <span class="token key atrule">content_limit</span><span class="token punctuation">:</span> <span class="token number">140</span>  <span class="token key atrule">content_limit_delim</span><span class="token punctuation">:</span> <span class="token string">' '</span>  <span class="token key atrule">order_by</span><span class="token punctuation">:</span> <span class="token punctuation">-</span>date</code></pre><p><strong>2) 搜索</strong></p><ul><li>在根目录下的<code>_config.yml</code>中添加对应配置</li></ul><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">search</span><span class="token punctuation">:</span>  <span class="token key atrule">path</span><span class="token punctuation">:</span> search.xml  <span class="token key atrule">field</span><span class="token punctuation">:</span> post</code></pre><p><strong>3) sitemap</strong></p><p><code>hexo g</code>即可看到<code>sitemap.xml</code>和<code>baidusitemap.xml</code>，前者是通用的sitemap，后者是百度爬虫专用的sitemap。</p><p><strong>4) 代码高亮</strong></p><p>修改根目录下_config.yml文件中<code>highlight.enable</code>的值为<code>false</code></p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">highlight</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span><span class="token key atrule">falseprism_plugin</span><span class="token punctuation">:</span>  <span class="token key atrule">mode</span><span class="token punctuation">:</span> <span class="token string">'preprocess'</span>    <span class="token comment" spellcheck="true"># realtime/preprocess</span>  <span class="token key atrule">theme</span><span class="token punctuation">:</span> <span class="token string">'tomorrow'</span>  <span class="token key atrule">line_number</span><span class="token punctuation">:</span> <span class="token boolean important">false    </span><span class="token comment" spellcheck="true"># default false</span>  custom_css<span class="token punctuation">:</span></code></pre><p><strong>5) 字数统计</strong></p><ul><li>在根目录下的<code>_config.yml</code>中添加对应配置</li></ul><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">postInfo</span><span class="token punctuation">:</span>  <span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">update</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token key atrule">wordCount</span><span class="token punctuation">:</span> <span class="token boolean important">false  </span><span class="token comment" spellcheck="true"># 设置文章字数统计为 true.</span>  <span class="token key atrule">totalCount</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment" spellcheck="true"># 设置站点文章总字数统计为 true.</span>  <span class="token key atrule">min2read</span><span class="token punctuation">:</span> <span class="token boolean important">false   </span><span class="token comment" spellcheck="true"># 阅读时长.</span>  <span class="token key atrule">readCount</span><span class="token punctuation">:</span> <span class="token boolean important">false  </span><span class="token comment" spellcheck="true"># 阅读次数.</span></code></pre><p><strong>6) nofollow</strong></p><ul><li>这个插件自动给博客中出现的外链添加<code>rel=&quot;external nofollow noreferrer&quot;</code>属性，有利于SEO优化。在根目录下的_config.yml中添加对应配置，其中<code>exclude1.com</code>和<code>exclude2.com</code>是不添加<code>nofollow</code>属性的链接。</li></ul><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">nofollow</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">field</span><span class="token punctuation">:</span> site  <span class="token key atrule">exclude</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token string">'exclude1.com'</span>    <span class="token punctuation">-</span> <span class="token string">'exclude2.com'</span></code></pre><h2 id="3-评论系统"><a href="#3-评论系统" class="headerlink" title="3.评论系统"></a>3.评论系统</h2><ul><li>评论系统采用的是Valine，基于<a href="https://www.leancloud.cn/" target="_blank" rel="noopener external nofollow noreferrer">leancloud</a>。注册账号后完成认证，创建应用，名称随意，比如blog，复制应用的<code>APPID</code>和<code>APPKey</code>，填入主题配置文件中的Valine配置中。</li><li><strong>此处有大坑。</strong>主题作者并未说明这个操作。需要在应用内的“存储”选项中创建<code>class</code>，名称为<code>Comment</code>，否则评论系统无法工作！</li></ul><pre class=" language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># To use it, activate the configuration item and set appId and appKey.</span><span class="token comment" spellcheck="true"># Valine 评论模块的配置，默认为不激活，如要使用，就请激活该配置项，并设置 appId 和 appKey.</span><span class="token key atrule">valine</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">appId</span><span class="token punctuation">:</span> *******  <span class="token key atrule">appKey</span><span class="token punctuation">:</span> *******  <span class="token key atrule">notify</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token key atrule">verify</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token key atrule">visitor</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">avatar</span><span class="token punctuation">:</span> <span class="token string">'mm'</span> <span class="token comment" spellcheck="true"># Gravatar style : mm/identicon/monsterid/wavatar/retro/hide</span>  <span class="token key atrule">pageSize</span><span class="token punctuation">:</span> <span class="token number">10</span>  <span class="token key atrule">placeholder</span><span class="token punctuation">:</span> <span class="token string">'快来交流吧'</span>  <span class="token key atrule">background</span><span class="token punctuation">:</span> /medias/comment_bg.png</code></pre><h2 id="4-链接优化"><a href="#4-链接优化" class="headerlink" title="4.链接优化"></a>4.链接优化</h2><p>如果文章名称是中文，那么Hexo默认生成文章的永久链接也会有中文，不仅不利于 SEO，而且复制文章地址的时候会变成一大串的编码。</p><ul><li>Metary主题作者推荐使用<a href="https://github.com/viko16/hexo-permalink-pinyin" target="_blank" rel="noopener external nofollow noreferrer">hexo-permalink-pinyin</a>。这个插件使得生成的文章永久链接变为中文拼音。</li><li><a href="https://github.com/rozbo/hexo-abbrlink" target="_blank" rel="noopener external nofollow noreferrer">hexo-abbrlink</a>也可以生成非中文的链接。</li><li>如果想自定义文章的链接，可以自行在<code>Front-matter</code>(文件最上方以 — 分隔的区域，用于指定个别文件的变量)中添加一个参数，比如<code>link</code>，然后赋值为想要的链接。</li></ul><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">title</span><span class="token punctuation">:</span> Hexo博客搭建过程<span class="token key atrule">link</span><span class="token punctuation">:</span> hexoblog<span class="token key atrule">categories</span><span class="token punctuation">:</span><span class="token punctuation">-</span> software<span class="token key atrule">tags</span><span class="token punctuation">:</span><span class="token punctuation">-</span> hexo</code></pre><p>记得在站点配置文件中修改<code>permalink</code>参数</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">permalink</span><span class="token punctuation">:</span> <span class="token punctuation">:</span>year/<span class="token punctuation">:</span>month/<span class="token punctuation">:</span>link.html</code></pre><h2 id="5-提交网址"><a href="#5-提交网址" class="headerlink" title="5.提交网址"></a>5.提交网址</h2><ul><li><p>提交百度</p><ul><li>登录<a href="https://ziyuan.baidu.com/" target="_blank" rel="noopener external nofollow noreferrer">百度搜索资源平台</a>，站点管理-&gt;添加网站，输入域名再验证所有权即可。如果是用的是GitHub，则不能使用<code>HTML标签验证</code>，因为百度的蜘蛛爬取不到GitHub的内容。</li><li>手动提交即手动地将链接一次性提交给百度。自动提交有：主动推送，自动推送，sitemap。主动推送需要安装相关插件，自动推送Metary主题已经自带了，并且默认开启，sitemapt提交填写<code>baidusitemap.xml</code>文件地址即可</li></ul></li><li><p>提交谷歌</p><ul><li>登录<a href="https://www.google.com/webmasters/" target="_blank" rel="noopener external nofollow noreferrer">谷歌站长平台</a>，提交博客网址，然后在<a href="https://search.google.com/search-console/" target="_blank" rel="noopener external nofollow noreferrer">Search Console</a>提交自己的sitemap地址</li></ul></li></ul><h2 id="6-代码压缩"><a href="#6-代码压缩" class="headerlink" title="6.代码压缩"></a>6.代码压缩</h2><p>使用gulp来压缩网站的资源，包括js,html,css</p><pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 安装gulp</span><span class="token function">npm</span> <span class="token function">install</span> gulp -g            <span class="token comment" spellcheck="true"># 安装组件</span><span class="token function">npm</span> <span class="token function">install</span> gulp-htmlclean gulp-htmlmin gulp-minify-css gulp-uglify gulp-imagemin --save<span class="token comment" spellcheck="true"># 额外的功能模块</span><span class="token function">npm</span> <span class="token function">install</span> gulp-debug gulp-clean-css gulp-changed gulp-if gulp-plumber gulp-babel babel-preset-es2015 del @babel/core --save</code></pre>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
